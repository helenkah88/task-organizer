<div class="todo-container my-4 p-4">
    <h2 class="text-light shadow mb-4">Category Manager</h2>
    <button ng-show="categories.length > 1" class="btn btn-sm btn-default mb-2 d-block" ng-click="order = 'title'">Filter By Name</button>
    <div class="card-deck">
        <card-panel ng-repeat="category in categories | orderBy: order">
            <div class="card-heading px-3 pt-3 pb-0">
                <h4 class="card-title text-capitalize" ng-model="category.title" contenteditable>{{category.title}}</h4>
                <a ng-href="" class="card-link" my-tooltip="title">Edit</a>
            </div>
            <div class="card-body d-flex align-content-between flex-wrap pt-2">
                <div class="card-text mb-3" ng-show="category.description" ng-model="category.description" style="flex-basis: 100%;" contenteditable>{{category.description}}</div>
                <a href="/#!/{{category._id}}/lists" class="mb-3">View all lists</a>
                <div style="flex-basis: 100%;">
                    <button class="btn btn-outline-danger btn-sm" ng-click="deleteCategory(category)">Delete</button>
                    <button class="btn btn-outline-primary btn-sm float-right" ng-click="saveChanges(category)">Save Changes</button>
                </div>
            </div>
        </card-panel>
        <card-panel>
            <div class="card-heading px-3 pt-3 pb-0">
                <h4 class="card-title">New Category</h4>
            </div>
            <div class="card-body pt-2 pb-3">
                <div class="add-new" ng-show="!newClicked" ng-click="addNew()">
                    <i class="material-icons">add_box</i><div>add new</div>
                </div>
                <div ng-if="newClicked">
                    <form name="categoryForm">
                        <div class="form-group mb-2">
                            <input type="text" class="form-control form-control-sm" ng-model="categoryCopy.title" placeholder="Enter tilte">
                        </div>
                        <div class="form-group mb-3">
                            <input type="text" class="form-control form-control-sm" ng-model="categoryCopy.description" placeholder="Enter description">
                        </div>
                        <button class="btn btn-outline-primary btn-sm mr-1" ng-click="createCategory(categoryForm)">Save</button>
                        <button class="btn btn-outline-secondary btn-sm" type="reset" ng-click="resetForm(categoryForm)">Cancel</button>
                    </form>
                </div >
            </div> 
        </card-panel>
    </div>
</div>